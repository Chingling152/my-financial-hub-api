name: "Main Tests & Analysis"

on:
  push:
    branches: 
      - 'main'
    paths:
      - 'src/api/*' 
      - 'src/api/**'
  pull_request:
    branches: 
      - 'main'
    paths:
      - 'src/api/*' 
      - 'src/api/**'

permissions:
  checks: write
  pull-requests: write

jobs: 
  tests:
    uses: ./.github/workflows/tests_workflow.yml
    with:
      dir: ./src/api/
    secrets: inherit